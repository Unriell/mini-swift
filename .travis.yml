language: objective-c
osx_image: xcode11
xcode_destination: platform=iOS Simulator,OS=13.0,name=iPhone 8
env:
  global:
  - secure: nDLCZUO7vZdM1UcQWYnYaBmDm0fosHk/39w/aEzEsAbHAQtzVhECwe/5ERFZLngOnxtD5KCZCLec5cOHmIA07EQhR0tnMw99Hurf6NGyUCjay0n63wIEny+XhhHlwB5g5p9gMMmZM4a5wAkuuQNByJNTqxEKSIm52P2hZu9U/JKWtqv6idz7yG3BVNhWxtQz+wD2F9eshk6UHHe+2Y61E4RoWg1dFbUwiCBd3nSlyRpsVEOflmegaRm+umxlzBxMcItYP9VD2RHAHZVB1IPRf63diiHi0AO8tmSEXvoTEn83kU7FSneR2Qx/9F4zvwo4QzLpOE4A2K7aH0JwQ0d5iQbinnuinXoFLvl6g4WMj7LtHCTqJ8as2J9Z6zcvMJD7JGxlKcg0axowBbXQOPP4/Zegbv14oAJNrNijTcT30fwOQhMIsRVg/q2MZ9C+k9GuRHVe4QAnJcF6GipWUqTE/FJmJEcNetQehFaIHni+KJi7YHACUkqIZaP6AX1eSonmH3fNXc+ASiJ91F11xOd0Q9fYILcChObDRrsgBgEUeUd4d7nAEamNLPhc8ILROQMdfajSpabo8/xteX3E7F1G7MNsIwOyU+SFBqjvtPm1VjUUlz8jrZVqn83oR52lPQB/8hgPwNdDbLCGZVRA18yfqIq+5+QSE6VGVbxQlP3DBYc=
  - secure: BVxAlPWulOEJr1Va5emAt5m5qdo2hI+KhRrv6x8XAoy9YlGxBxuYCv4qx+3lw3R1IfZey37m7yPuiRGkNOrF517U+JMkat302zumkIgycgtmGRdZydB/mp2LwQamSMQsSXn+rPu3pZQ7K3psqqCpHFhyBACn1mbvN4/b5Qwb9DJdeeleByhlBfEsTrXrB7s/Go+j7CcJ7AozBd5hGEquoGZCnZCcIzqDTsTCzGxWdY6pRc6DtL+q4qcaVIq3Vtlf5KWx6ImIPKlCBQgdP02fLDkYHkeXnVVqVpYvPLiEsr0N8qHVl4tFq7P6SgRlZtQ6vbGQCdxD3iAyHZG2hJLgfgWpIoXljhEvQ9Ruy5bQKeseTSAXGikKJqcyYeGPSizeNpzn2bPEAFHtrhEmofdxv/1WP+UNjEeXkx4pSwI0aTwb9s1opv27gfDk8J5cSWD94rPbavAxHlmkjY616kqYz0m03vB/OkuLiHyXXh6l1MffrM2ecbvm95ES3HqZ0h7sciqEVjg2fOSsU3dvUjjkogG+UT7S4e/o6g19AC5mTfSM1rP3FUYIgaOaa/uYqdlpASDlFap+c+xwzUwvvGNjR8J/91l39okFN2IuwtkbhxPZCYV9SAsz2VXXZ36H3aP5XTObL1mB1OTrE/8uFbRVZmt8JU/0c+PaplFIDj2MOE4=
  - secure: Ri8F0i24B9ix71otuUFjRPOciePJw4XGqPSj8QhSlT/Cv3NBG+Ba5/70/5srJk9UxT25dbYtv+dd+LDfgzTxJ0cc/zEe5QWmXldp0IiiujA+PWu5fspDqbwesu2VV7R7Jp+VeiNOMW73qMkKvemOcm8M3MwrwaAZNozSq03itelAqt5dE2uIvArUpxcKRQaZ1NmjtwWC+7J7mdx1webhkMRfET3fUdKw4kMifK9nQmGoCtV0PH4aNHnJswVfHCogeBYeKqpKA3JHfBcKav5jQpwPUcezf/gBsrIjmaYCHSdqGeJW0u3A2TftC+uhTf4hv3cjATHGjqwaDkPjTcKwEApcrEVV56bFt/zgfUHhb44fgZYOxLzJpp4Jbnv3MiZh4FkFC3MRUZoezpdLXXh38q7zzn2JRsBxc77tgGyPhbPpkwgkLBPmJiUvBlZ6P4KRpCALC/8XuRhU+joyNYxlNVO/gpiry5dt+Ph0eRv6xKUSq4rrkrpTFA+wDwugQVLrxZtmvxzKEDCf87Q75ZlIsvAJhT3Qh0f2OxCZXP0r2srTauYP5bXr7DNHzByXFLRt6AJtZLInPtT1VfEbzl102Ebl3Jlu03mi5i+frRumT99rhsoXjlGfzO9djbuStY9RN+ECDL2TqGcr95U+W6FzXJu2xWugX9dvDUhOVKEfHxE=
script:
- set -o pipefail
- swift --version
- rake
- brew install thii/unxip/unxip
- wget --load-cookies=cookies.txt -c https://download.developer.apple.com/Developer_Tools/Xcode_11_Beta_4/Xcode_11_Beta_4.xip
- unxip Xcode_11_Beta_4.xip /Applications/Xcode-beta.app
- xcode-select -s /Applications/Xcode-beta.app/Contents/Developer
- xcode-select --install
- xcodebuild -scheme MiniSwift-Package -enableCodeCoverage YES test
- curl -s https://codecov.io/bash | bash -s -- -F ios -J 'Mini'
- bundle exec danger
before_install:
- openssl aes-256-cbc -K $encrypted_5ce6572667b1_key -iv $encrypted_5ce6572667b1_iv
  -in cookies.txt.enc -out cookies.txt -d
